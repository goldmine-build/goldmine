{
  GitRepoURL: "{{.GITREPO_URL}}",
  EventTopic: "gold-{{.INSTANCE_ID}}-eventbus-bt",

  Ingesters: {
    // Primary Ingester
    "gold-bt": {
      RunEvery: "{{.ING_RUN_EVERY}}",
      NCommits: {{.ING_N_COMMITS}},
      MinDays: {{.ING_MIN_DAYS}},
      MetricName: "gold-{{.INSTANCE_ID}}-ingestion",
      Sources: [
        {
          Bucket: "{{.BUCKET}}",
          Dir: "dm-json-v1"
        }
      ],
      ExtraParams: {
        BTProjectID: "{{.BIGTABLE_PROJECT}}",
        BTInstance: "{{.BIGTABLE_INSTANCE}}",
        BTTable: "gold-{{.INSTANCE_ID}}"
      }
    {{if .ING_TRY_ENABLED}}
    },

    // Gold Tryjob Ingester for gold-{{.INSTANCE_ID}}.
    "gold-tryjob": {
      RunEvery: "{{.ING_TRY_RUN_EVERY}}",
      NCommits: {{.ING_TRY_N_COMMITS}},
      MinDays: {{.ING_TRY_MIN_DAYS}},
      MetricName: "{{.INSTANCE_ID}}-gold-ingest-tryjob",
      Sources: [
        {
          Bucket: "{{.BUCKET}}",
          Dir: "trybot/dm-json-v1"
        },
      ],
      ExtraParams: {
        BuildBucketName: "{{.ING_TRY_BUILDBUCKET}}",
        BuildBucketPollInterval: "{{.ING_TRY_BB_INTERVAL}}",
        BuildBucketTimeWindow: "{{.ING_TRY_BB_WINDOW}}",
        BuildBucketURL: "{{.ING_TRY_BUILDBUCKET_URL}}",
        BuilderRegEx: "{{.ING_TRY_BUILDER_REGEX}}",
        DSNamespace: "{{.DATASTORE_NAMESPACE}}",
        DSProjectID: "{{.DATASTORE_PROJECT}}",
        GerritCodeReviewURL: "{{.GERRIT_URL}}",
        JobConfigFile: "{{.ING_JOB_CONFIG_FILE}}",
      }
    {{end}}
    }
 }
}
