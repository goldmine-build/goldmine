<!DOCTYPE html>
<html>
  <head>
    <title>Predictions</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css" media="screen">
      h1 {
        grid-area: header;
        margin: 0;
        padding: 0;
        color: white;
        background: #1F78B4;
        padding: 0.2em;
      }

      #files {
        grid-area: files;
        padding: 0.6em;
      }

      #summary {
        grid-area: summary;
        padding: 0.6em;
      }

      #query {
        grid-area: query;
        padding: 0.6em;
      }

      body {
        font: 400 16px/1.5 "Helvetica Neue", Helvetica, Arial, sans-serif;
        margin: 0;
        display: grid;
        grid-template-rows: 64px 30px 1fr;
        grid-template-areas:
        "header header"
        "query query"
        "files summary"
      }

      ul li {
        list-style: none;
      }

      h2 {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <h1>Predict</h1>
    <section id=query>
      <form action="" method="get" accept-charset="utf-8">
        <label for="change">Gerrit Issue: </label><input type="text" name="change" value="" id="change">
        <input type="submit" value="Continue">
      </form>
      <script type="text/javascript" charset="utf-8">
        window.location.search.replace(/^\?/, "").split("&").forEach(p => {
          let keyValue = p.split("=");
          if (keyValue[0] == "change") {
            document.getElementById('change').value = keyValue[1];
          }
        });
      </script>
    </section>
    <section id=files>
      <h2>Files</h2>
      <ol>
      {{ range .Files}}
        <li>{{ . }} </li>
      {{ end }}
      </ol>
    </section>
    <section id=summary>
      <h2>Summary</h2>
      <ul>
      {{ range .Prediction }}
        <li>{{ .Count }} - {{ .BotName }}</li>
      {{ end }}
      </ul>
    </section>
  </body>
</html>
